## 通过阴影来弱化背景

### 难题

很多时候，我们需要通过一层半透明的遮罩层来把后面的一切整体调暗，以便凸显某个特定的 UI 元素，引导用户关注。

比如，弹出层以及交互式的“快速指南”就是这种效果的典型案例。

这个效果最常见的实现方法就是增加一个额外的 HTML 元素用于遮挡背景，然后为它添加如下样式：

```css
.overlay { /* 用于遮挡背景 */
 position: fixed;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 background: rgba(0,0,0,.8);
}
.lightbox { /* 需要吸引用户注意的元素 */
 position: absolute;
 z-index: 1;
 /* [其余样式] */
}
```

.overlay 遮罩层负责把这个关键元素背后的所有东西调暗。

.lightbox 需要指定一个更高的 z-index，以便绘制在遮罩层的上层。

这个方法稳定可靠，但需要增加一个额外的 HTML 元素，这意味着该效果无法由 CSS 单独实现。

这不是一个很严重的问题，但对我们来说又确实是个麻烦事。不过还好，有其他方法可以摆脱这个麻烦。



### 解决方案

#### 伪元素方案

我们可以用伪元素来消除额外的 HTML 元素，比如：

```css
body.dimmed::before {
 position: fixed;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 z-index: 1;
 background: rgba(0,0,0,.8);
}
```



















